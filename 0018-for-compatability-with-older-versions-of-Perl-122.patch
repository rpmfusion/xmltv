From d8b8bb60ff35c94e2dd5421d26d53d2bad348131 Mon Sep 17 00:00:00 2001
From: Honir <honir@c4b.co.uk>
Date: Wed, 23 Dec 2020 11:51:25 +0000
Subject: [PATCH 18/50] for compatability with older versions of Perl (#122)

---
 grab/pt_vodafone/tv_grab_pt_vodafone | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/grab/pt_vodafone/tv_grab_pt_vodafone b/grab/pt_vodafone/tv_grab_pt_vodafone
index 1ca953ee..a0f2bea3 100755
--- a/grab/pt_vodafone/tv_grab_pt_vodafone
+++ b/grab/pt_vodafone/tv_grab_pt_vodafone
@@ -271,7 +271,7 @@ sub get_epg
 
             if ( ! $epgSource ){
                 die("Bad EPG download, probably channel list is outdated, rerun the grabber configure to update the list.\n" ); }
-            elsif ( $epgSource->{data}->@* == 0 ){
+            elsif ( !$epgSource->{data} || scalar @{$epgSource->{data}} == 0 ){
                 print( STDERR " Empty EPG download for ".$channel.", probably channel list is outdated or no API data for that channel\n" .
                 "  Rerun the grabber configure to update the list or check for the channel EPG in the Vodafone app.\n" );
                 next;
-- 
2.29.2

